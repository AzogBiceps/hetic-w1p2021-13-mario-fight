{"version":3,"sources":["js/script.js"],"names":["data","player1","player2","map","gameInterval","window","appState","lifebar","oxo","inputs","listenKey","console","log","screens","getCurrentScreen","screewns","loadScreen","character","elements","document","querySelectorAll","count","forEach","element","addEventListener","classList","add","elm","remove","className","split","getElementById","game","players","push","includes","querySelector","filter","player","end","winner","winnerName","innerHTML","style","width","initFighters","turn","characterLeft","bg","setInterval","display","getLife","clearInterval","name","action","playerAtk","playerDef","type","heal","def","attack","semiAttack","fullAttack","LP","succes","Math","floor","random"],"mappings":"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","file":"script.d573be0b.map","sourceRoot":"../src","sourcesContent":["let data = {\n  player1: '',\n  player2: '',\n  map: '',\n  gameInterval: null\n}\n\n\nwindow.appState = data;\nvar lifebar;\n\n\noxo.inputs.listenKey('enter', function() {\n\n  console.log(oxo.screens.getCurrentScreen());\n  if (oxo.screewns.getCurrentScreen() == 'home') {\n\n    oxo.screens.loadScreen('characters', character);\n  }\n});\n\nfunction map(){\n  var elements = document.querySelectorAll('div.element__maps');\n  var count = 0;\n  console.log(elements);\n\n  elements.forEach(element => {\n    element.addEventListener('click', function(){\n      if (count == 0){\n        element.classList.add('selected');\n        count = 1;\n      } else {\n        elements.forEach(elm => elm.classList.remove(\"selected\"))\n        element.classList.add(\"selected\")\n\n      }\n      map = element.className.split(' ')[1]\n\n    });\n  })\n\n  document.getElementById(\"go\").addEventListener(\"click\", function(){\n    data.map = map\n    console.log(data)\n\n    oxo.screens.loadScreen('game', game);\n  })\n}\n\noxo.inputs.listenKey('enter', function() {\n\n  console.log(oxo.screens.getCurrentScreen())\n  if (oxo.screens.getCurrentScreen() == 'home') {\n\n    oxo.screens.loadScreen('characters', character);\n  }\n});\n\nfunction character() {\n  var elements = document.querySelectorAll('div.element');\n  var count = 0;\n  let players = [];\n\n  elements.forEach(element => {\n    element.addEventListener('click', function() {\n      console.log(count);\n      if (count == 0){\n        console.log('add')\n        players.push(element.className.split(' ')[1])\n        element.classList.add(\"selected\");\n        count++;\n      } else if (count == 1 && !element.className.includes(\"selected\")) {\n\n        console.log('add other')\n        players.push(element.className.split(' ')[1])\n        element.classList.add(document.querySelector('.selectedPlayerTwo') ? 'selected' : 'selectedPlayerTwo');\n        count++;\n      } else if (element.className.includes(\"selected\")) {\n        count--;\n        players = players.filter(function(player) { return player != element.className.split(' ')[1]; });\n        element.classList.remove('selected');\n        element.classList.remove('selectedPlayerTwo');\n      }\n    })\n  });\n\ndocument.getElementById(\"back\").addEventListener(\"click\", function(){\n\n  data.players = []\n  count = 0\n  elements.forEach(element => {\n    element.classList.remove(\"selected\");\n    element.classList.remove(\"selectedPlayerTwo\");\n  })\n});\n\n  document.getElementById(\"go\").addEventListener(\"click\", function(){\n    console.log(\"Go\");\n    data.player1 = players[0];\n    data.player2 = players[1];\n\n    if (data.player1 && data.player2) {\n      oxo.screens.loadScreen('maps', map);\n    }\n\n  });\n}\n\nfunction end(){\n  console.log(data.winner);\n  var winnerName = document.getElementById(\"winner__name\");\n  winnerName.innerHTML = data.winner;\n\n}\n\n\n\n\n\n/** GAME */\n\nfunction game(){\n  lifebar = document.getElementById('lifebar');\n\n  lifebar.style.width = 5 * 10 + '%';\n  console.log('GAME');\n\n  let players = initFighters(data);\n  let turn = true;\n  let player1 = players[0];\n  let player2 = players[1];\n  console.log(player1, player2);\n  // reation of data.players array with basics stats\n   // select characters on the left\n   if (data.player1 == 'bastien') {\n    var characterLeft = document.getElementById(\"character__left\");\n    characterLeft.classList.add('is-bastien'); \n  }\n  else if (data.player1 == 'rayan'){\n    var characterLeft = document.getElementById(\"character__left\")\n    characterLeft.classList.add('is-rayan');\n  }\n  else if (data.player1 == 'maeva'){\n    var characterLeft = document.getElementById(\"character__left\")\n    characterLeft.classList.add('is-maeva');\n  }\n  else if (data.player1 == 'baptiste'){\n    var characterLeft = document.getElementById(\"character__left\")\n    characterLeft.classList.add('is-baptiste');\n  }\n  else if (data.player1 == 'mathias'){\n    var characterLeft = document.getElementById(\"character__left\")\n    characterLeft.classList.add('is-mathias');\n  }\n  else if (data.player1 == 'justine'){\n    var characterLeft = document.getElementById(\"character__left\")\n    characterLeft.classList.add('is-justine');\n  }\n  else if (data.player1 == 'brontis'){\n    var characterLeft = document.getElementById(\"character__left\")\n    characterLeft.classList.add('is-brontis');\n  }\n  else if (data.player1 == 'aymeric'){\n    var characterLeft = document.getElementById(\"character__left\")\n    characterLeft.classList.add('is-aymeric');\n  }\n\n  if (data.player2 == 'bastien') {\n    var characterLeft = document.getElementById(\"character__right\");\n    characterLeft.classList.add('is-bastien'); \n  }\n  else if (data.player2 == 'rayan'){\n    var characterLeft = document.getElementById(\"character__right\")\n    characterLeft.classList.add('is-rayan');\n  }\n  else if (data.player2 == 'maeva'){\n    var characterLeft = document.getElementById(\"character__right\")\n    characterLeft.classList.add('is-maeva');\n  }\n  else if (data.player2 == 'baptiste'){\n    var characterLeft = document.getElementById(\"character__right\")\n    characterLeft.classList.add('is-baptiste');\n  }\n  else if (data.player2 == 'mathias'){\n    var characterLeft = document.getElementById(\"character__right\")\n    characterLeft.classList.add('is-mathias');\n  }\n  else if (data.player2 == 'justine'){\n    var characterLeft = document.getElementById(\"character__right\")\n    characterLeft.classList.add('is-justine');\n  }\n  else if (data.player2 == 'brontis'){\n    var characterLeft = document.getElementById(\"character__right\")\n    characterLeft.classList.add('is-brontis');\n  }\n  else if (data.player2 == 'aymeric'){\n    var characterLeft = document.getElementById(\"character__right\")\n    characterLeft.classList.add('is-aymeric');\n  }\n\n  if (data.map == 'arena'){\n    var bg = document.getElementById(\"background\")\n    bg.classList.add('is-arena')\n  }\n  else if (data.map == 'gladiator'){\n    var bg = document.getElementById(\"background\")\n    bg.classList.add('is-gladiator')\n  }\n  else if (data.map == 'ring'){\n    var bg = document.getElementById(\"background\")\n    bg.classList.add('is-ring')\n  }\n\n  data.gameInterval = setInterval(() => {\n    document.getElementById(\"gosef\").style.display = \"none\"\n\n    // Detecting death\n    if(getLife(player1) > 0 && getLife(player2) === 0){\n      //here you need to load the final page with J1 by winning\n      console.log('J1 a gagné');\n      clearInterval(data.gameInterval)\n      data.gameInterval = null\n      var winner = data.winner = player1.name;\n      // document.getElementById(\"gosef\").style.display = \"block\"\n      oxo.screens.loadScreen('end', end);\n    } else if(getLife(player2) > 0 && getLife(player1) === 0) { \n      //here you need to load the final page with J2 by winning\n      console.log('J2 a gagné');\n      clearInterval(data.gameInterval)\n      data.gameInterval = null\n      var winner = data.winner = player2.name;\n      // document.getElementById(\"gosef\").style.display = \"block\"\n      oxo.screens.loadScreen('end', end);\n    }\n\n    // Attack listeners\n    oxo.inputs.listenKey('q', function() {\n      if(turn){ // J1 is playing\n        console.log(\"Q pressed\")\n        action(player1, player2, 'atk')\n        turn = !turn\n      }\n    })\n\n    oxo.inputs.listenKey('k', function() {\n      if(!turn){ // J2 is playing\n        console.log(\"K pressed\")\n        action(player2, player1, 'atk')\n        turn = !turn\n      }\n    })\n    // Heal listeners\n    oxo.inputs.listenKey('s', function() {\n      if(turn){ // J1 is playing\n        console.log(\"S pressed\")\n        action(player1, player2, 'heal')\n        turn = !turn\n      }\n    })\n\n    oxo.inputs.listenKey('l', function() {\n      if(!turn){ // J2 is playing\n        console.log(\"L pressed\")\n        action(player2, player1, 'heal')\n        turn = !turn\n      }\n    })\n    // Shield listeners\n    oxo.inputs.listenKey('d', function() {\n      if(turn){ // J1 is playing\n        console.log(\"D pressed\")\n        action(player1, player2, 'def')\n        turn = !turn\n      }\n    })\n\n    oxo.inputs.listenKey('m', function() {\n      if(!turn){ // J2 is playing\n        console.log(\"M pressed\")\n        action(player2, player1, 'def')\n        turn = !turn\n      }\n    })\n\n  }, 200)\n\n  // document.getElementById(\"gosef\").addEventListener(\"click\", function(){\n  //   console.log(\"End page\");\n  //   oxo.screens.loadScreen('end', end);\n  // });\n\n}\n\n/**\n* action realized by a character\n@param {playerAtk} object - Player who plays\n@param {playerDef} object - Player enemy\n@param {type} string - Action of the player\n*/\nfunction action(playerAtk,playerDef,type){\n  //Action according to the type\n  switch(type) {\n    case 'heal':\n      heal(playerAtk);\n      break;\n    case 'def':\n      def(playerAtk);\n      break;\n    default:\n      attack(playerAtk,playerDef);\n  }\n}\n\n/**\nA player attacks the other one\n@param {playerAtk} object - Player who plays\n@param {playerDef} object - Player enemy\n*/\nfunction attack(playerAtk,playerDef){\n  //J2 is in defense\n  if(playerDef.def != 0){\n    semiAttack(playerDef);\n    playerDef.def = 0;\n  } else {\n    //J2 is normal\n    fullAttack(playerDef);\n  }\n  return false;\n}\n\n\n\n//Has to modify for the value\nfunction heal(player){\n  player.LP +=1;\n}\n\n//the player switches to defense mode and wins 0.5 of next def round (=50% damage reduction)\n//Has to modify for the value\nfunction def(player){\n  player.def +=0.5;\n}\n\n//refers to the life of the player\nfunction getLife(player){\n  return player.LP;\n}\n\n//performs a complete attack with 8/10 succes\nfunction fullAttack(player){\n  //creation of a random number between 1 and 10\n  succes = Math.floor((Math.random() * 10) + 1);\n  if(succes > 2){ \n    //if the number is greater than 2 succes\n    player.LP -= 1;\n  } else { \n    //else fail\n  }\n}\n\n//makes an attack on a player in defense mode\nfunction semiAttack(player){\n  //the blow is always successful in defense mode\n  player.LP -= 0.5;\n}\n\n /**\n *Initializes the initial state of the two combatants\n * @param {data} tableau - contains both data.players and map\n * @return {data.players} -Table composed of the two data.players with combat characteristics\n */\nfunction initFighters(data){\n  //create a tab with J1 and J2 with features\n  let players = [];\n  players.push({'name':data.player1,'LP':10,'def':0},{'name':data.player2,'LP':10,'def':0});\n  return players;\n}\n"]}